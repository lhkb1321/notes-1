<!DOCTYPE html>
<html class="v2" dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xmlns:b="http://www.google.com/2005/gml/b" xmlns:data="http://www.google.com/2005/gml/data" xmlns:expr="http://www.google.com/2005/gml/expr" xmlns:fb="http://www.facebook.com/2008/fbml"><head>
<meta content="IE=EmulateIE7" http-equiv="X-UA-Compatible">
<meta content="width=1100" name="viewport">
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="blogger" name="generator">
<link href="http://techblog.netflix.com/favicon.ico" rel="icon" type="image/x-icon">
<link href="http://techblog.netflix.com/2015/11/linux-performance-analysis-in-60s.html" rel="canonical">
<link rel="alternate" type="application/atom+xml" title="The Netflix Tech Blog - Atom" href="http://techblog.netflix.com/feeds/posts/default">
<link rel="alternate" type="application/rss+xml" title="The Netflix Tech Blog - RSS" href="http://techblog.netflix.com/feeds/posts/default?alt=rss">
<link rel="service.post" type="application/atom+xml" title="The Netflix Tech Blog - Atom" href="https://www.blogger.com/feeds/725338818844296080/posts/default">

<link rel="alternate" type="application/atom+xml" title="The Netflix Tech Blog - Atom" href="http://techblog.netflix.com/feeds/5920846117184340200/comments/default">
<!--[if IE]><script type="text/javascript" src="https://www.blogger.com/static/v1/jsbin/4135384701-ieretrofit.js"></script>
<![endif]-->
<meta content="http://techblog.netflix.com/2015/11/linux-performance-analysis-in-60s.html" property="og:url">
<meta content="Linux Performance Analysis in 60,000 Milliseconds" property="og:title">
<meta content="You login to a Linux server with a performance issue: what do you check in the first minute?   At Netflix we have a massive EC2 Linux cloud,..." property="og:description">
<!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
<title>The Netflix Tech Blog: Linux Performance Analysis in 60,000 Milliseconds</title>
<meta content="" name="description">
<link type="text/css" rel="stylesheet" href="The%20Netflix%20Tech%20Blog:%20Linux%20Performance%20Analysis%20in%2060,000%20Milliseconds_files/3113300191-css_bundle_v2.css">
<link type="text/css" rel="stylesheet" href="The%20Netflix%20Tech%20Blog:%20Linux%20Performance%20Analysis%20in%2060,000%20Milliseconds_files/authorization.css">
<style id="page-skin-1" type="text/css"><!--
body {
font: normal normal 13px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #444444;
background: #eeeeee none repeat scroll top left;
}
html body .content-outer {
min-width: 0;
max-width: 100%;
width: 100%;
}
a:link {
text-decoration: none;
color: #3778cd;
}
a:visited {
text-decoration: none;
color: #4d469c;
}
a:hover {
text-decoration: underline;
color: #3778cd;
}
.body-fauxcolumn-outer .cap-top {
position: absolute;
z-index: 1;
height: 276px;
width: 100%;
background: transparent none repeat-x scroll top left;
_background-image: none;
}
/* Columns
----------------------------------------------- */
.content-inner {
padding: 0;
}
.header-inner .section {
margin: 0 16px;
}
.tabs-inner .section {
margin: 0 16px;
}
.main-inner {
padding-top: 30px;
}
.main-inner .column-center-inner,
.main-inner .column-left-inner,
.main-inner .column-right-inner {
padding: 0 5px;
}
*+html body .main-inner .column-center-inner {
margin-top: -30px;
}
#layout .main-inner .column-center-inner {
margin-top: 0;
}
/* Header
----------------------------------------------- */
.header-outer {
margin: 0 0 0 0;
background: transparent none repeat scroll 0 0;
}
.Header h1 {
font: normal bold 40px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #444444;
text-shadow: 0 0 -1px #000000;
}
.Header h1 a {
color: #444444;
}
.Header .description {
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #444444;
}
.header-inner .Header .titlewrapper,
.header-inner .Header .descriptionwrapper {
padding-left: 0;
padding-right: 0;
margin-bottom: 0;
}
.header-inner .Header .titlewrapper {
padding-top: 22px;
}
/* Tabs
----------------------------------------------- */
.tabs-outer {
overflow: hidden;
position: relative;
background: #eeeeee url(http://www.blogblog.com/1kt/awesomeinc/tabs_gradient_light.png) repeat scroll 0 0;
}
#layout .tabs-outer {
overflow: visible;
}
.tabs-cap-top, .tabs-cap-bottom {
position: absolute;
width: 100%;
border-top: 1px solid #999999;
}
.tabs-cap-bottom {
bottom: 0;
}
.tabs-inner .widget li a {
display: inline-block;
margin: 0;
padding: .6em 1.5em;
font: normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #444444;
border-top: 1px solid #999999;
border-bottom: 1px solid #999999;
border-left: 1px solid #999999;
height: 16px;
line-height: 16px;
}
.tabs-inner .widget li:last-child a {
border-right: 1px solid #999999;
}
.tabs-inner .widget li.selected a, .tabs-inner .widget li a:hover {
background: #666666 url(http://www.blogblog.com/1kt/awesomeinc/tabs_gradient_light.png) repeat-x scroll 0 -100px;
color: #ffffff;
}
/* Headings
----------------------------------------------- */
h2 {
font: normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #444444;
}
/* Widgets
----------------------------------------------- */
.main-inner .section {
margin: 0 27px;
padding: 0;
}
.main-inner .column-left-outer,
.main-inner .column-right-outer {
margin-top: 0;
}
#layout .main-inner .column-left-outer,
#layout .main-inner .column-right-outer {
margin-top: 0;
}
.main-inner .column-left-inner,
.main-inner .column-right-inner {
background: transparent none repeat 0 0;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-moz-border-radius: 0;
-webkit-border-radius: 0;
-goog-ms-border-radius: 0;
border-radius: 0;
}
#layout .main-inner .column-left-inner,
#layout .main-inner .column-right-inner {
margin-top: 0;
}
.sidebar .widget {
font: normal normal 12px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #444444;
}
.sidebar .widget a:link {
color: #3778cd;
}
.sidebar .widget a:visited {
color: #4d469c;
}
.sidebar .widget a:hover {
color: #3778cd;
}
.sidebar .widget h2 {
text-shadow: 0 0 -1px #000000;
}
.main-inner .widget {
background-color: #ffffff;
border: 1px solid #eeeeee;
padding: 0 15px 15px;
margin: 20px -16px;
-moz-box-shadow: 0 0 20px rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 20px rgba(0, 0, 0, .2);
-goog-ms-box-shadow: 0 0 20px rgba(0, 0, 0, .2);
box-shadow: 0 0 20px rgba(0, 0, 0, .2);
-moz-border-radius: 0;
-webkit-border-radius: 0;
-goog-ms-border-radius: 0;
border-radius: 0;
}
.main-inner .widget h2 {
margin: 0 -15px;
padding: .6em 15px .5em;
border-bottom: 1px solid transparent;
}
.footer-inner .widget h2 {
padding: 0 0 .4em;
border-bottom: 1px solid transparent;
}
.main-inner .widget h2 + div, .footer-inner .widget h2 + div {
border-top: 1px solid #eeeeee;
padding-top: 8px;
}
.main-inner .widget .widget-content {
margin: 0 -15px;
padding: 7px 15px 0;
}
.main-inner .widget ul, .main-inner .widget #ArchiveList ul.flat {
margin: -8px -15px 0;
padding: 0;
list-style: none;
}
.main-inner .widget #ArchiveList {
margin: -8px 0 0;
}
.main-inner .widget ul li, .main-inner .widget #ArchiveList ul.flat li {
padding: .5em 15px;
text-indent: 0;
color: #666666;
border-top: 1px solid #eeeeee;
border-bottom: 1px solid transparent;
}
.main-inner .widget #ArchiveList ul li {
padding-top: .25em;
padding-bottom: .25em;
}
.main-inner .widget ul li:first-child, .main-inner .widget #ArchiveList ul.flat li:first-child {
border-top: none;
}
.main-inner .widget ul li:last-child, .main-inner .widget #ArchiveList ul.flat li:last-child {
border-bottom: none;
}
.post-body {
position: relative;
}
.main-inner .widget .post-body ul {
padding: 0 2.5em;
margin: .5em 0;
list-style: disc;
}
.main-inner .widget .post-body ul li {
padding: 0.25em 0;
margin-bottom: .25em;
color: #444444;
border: none;
}
.footer-inner .widget ul {
padding: 0;
list-style: none;
}
.widget .zippy {
color: #666666;
}
/* Posts
----------------------------------------------- */
body .main-inner .Blog {
padding: 0;
margin-bottom: 1em;
background-color: transparent;
border: none;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, 0);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, 0);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, 0);
box-shadow: 0 0 0 rgba(0, 0, 0, 0);
}
.main-inner .section:last-child .Blog:last-child {
padding: 0;
margin-bottom: 1em;
}
.main-inner .widget h2.date-header {
margin: 0 -15px 1px;
padding: 0 0 0 0;
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #666666;
background: transparent none no-repeat scroll top left;
border-top: 0 solid #eeeeee;
border-bottom: 1px solid transparent;
-moz-border-radius-topleft: 0;
-moz-border-radius-topright: 0;
-webkit-border-top-left-radius: 0;
-webkit-border-top-right-radius: 0;
border-top-left-radius: 0;
border-top-right-radius: 0;
position: static;
bottom: 100%;
right: 15px;
text-shadow: 0 0 -1px #000000;
}
.main-inner .widget h2.date-header span {
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
display: block;
padding: .5em 15px;
border-left: 0 solid #eeeeee;
border-right: 0 solid #eeeeee;
}
.date-outer {
position: relative;
margin: 30px 0 20px;
padding: 0 15px;
background-color: #ffffff;
border: 1px solid #eeeeee;
-moz-box-shadow: 0 0 20px rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 20px rgba(0, 0, 0, .2);
-goog-ms-box-shadow: 0 0 20px rgba(0, 0, 0, .2);
box-shadow: 0 0 20px rgba(0, 0, 0, .2);
-moz-border-radius: 0;
-webkit-border-radius: 0;
-goog-ms-border-radius: 0;
border-radius: 0;
}
.date-outer:first-child {
margin-top: 0;
}
.date-outer:last-child {
margin-bottom: 20px;
-moz-border-radius-bottomleft: 0;
-moz-border-radius-bottomright: 0;
-webkit-border-bottom-left-radius: 0;
-webkit-border-bottom-right-radius: 0;
-goog-ms-border-bottom-left-radius: 0;
-goog-ms-border-bottom-right-radius: 0;
border-bottom-left-radius: 0;
border-bottom-right-radius: 0;
}
.date-posts {
margin: 0 -15px;
padding: 0 15px;
clear: both;
}
.post-outer, .inline-ad {
border-top: 1px solid #eeeeee;
margin: 0 -15px;
padding: 15px 15px;
}
.post-outer {
padding-bottom: 10px;
}
.post-outer:first-child {
padding-top: 0;
border-top: none;
}
.post-outer:last-child, .inline-ad:last-child {
border-bottom: none;
}
.post-body {
position: relative;
}
.post-body img {
padding: 8px;
background: transparent;
border: 1px solid transparent;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-moz-border-radius: 0;
-webkit-border-radius: 0;
border-radius: 0;
}
h3.post-title, h4 {
font: normal bold 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #c81f08;
}
h3.post-title a {
font: normal bold 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #c81f08;
}
h3.post-title a:hover {
color: #3778cd;
text-decoration: underline;
}
.post-header {
margin: 0 0 1em;
}
.post-body {
line-height: 1.4;
}
.post-outer h2 {
color: #444444;
}
.post-footer {
margin: 1.5em 0 0;
}
#blog-pager {
padding: 15px;
font-size: 120%;
background-color: #ffffff;
border: 1px solid #eeeeee;
-moz-box-shadow: 0 0 20px rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 20px rgba(0, 0, 0, .2);
-goog-ms-box-shadow: 0 0 20px rgba(0, 0, 0, .2);
box-shadow: 0 0 20px rgba(0, 0, 0, .2);
-moz-border-radius: 0;
-webkit-border-radius: 0;
-goog-ms-border-radius: 0;
border-radius: 0;
-moz-border-radius-topleft: 0;
-moz-border-radius-topright: 0;
-webkit-border-top-left-radius: 0;
-webkit-border-top-right-radius: 0;
-goog-ms-border-top-left-radius: 0;
-goog-ms-border-top-right-radius: 0;
border-top-left-radius: 0;
border-top-right-radius-topright: 0;
margin-top: 1em;
}
.blog-feeds, .post-feeds {
margin: 1em 0;
text-align: center;
color: #444444;
}
.blog-feeds a, .post-feeds a {
color: #3778cd;
}
.blog-feeds a:visited, .post-feeds a:visited {
color: #4d469c;
}
.blog-feeds a:hover, .post-feeds a:hover {
color: #3778cd;
}
.post-outer .comments {
margin-top: 2em;
}
/* Comments
----------------------------------------------- */
.comments .comments-content .icon.blog-author {
background-repeat: no-repeat;
background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9sLFwMeCjjhcOMAAAD+SURBVDjLtZSvTgNBEIe/WRRnm3U8RC1neQdsm1zSBIU9VVF1FkUguQQsD9ITmD7ECZIJSE4OZo9stoVjC/zc7ky+zH9hXwVwDpTAWWLrgS3QAe8AZgaAJI5zYAmc8r0G4AHYHQKVwII8PZrZFsBFkeRCABYiMh9BRUhnSkPTNCtVXYXURi1FpBDgArj8QU1eVXUzfnjv7yP7kwu1mYrkWlU33vs1QNu2qU8pwN0UpKoqokjWwCztrMuBhEhmh8bD5UDqur75asbcX0BGUB9/HAMB+r32hznJgXy2v0sGLBcyAJ1EK3LFcbo1s91JeLwAbwGYu7TP/3ZGfnXYPgAVNngtqatUNgAAAABJRU5ErkJggg==);
}
.comments .comments-content .loadmore a {
border-top: 1px solid #999999;
border-bottom: 1px solid #999999;
}
.comments .continue {
border-top: 2px solid #999999;
}
/* Footer
----------------------------------------------- */
.footer-outer {
margin: -20px 0 -1px;
padding: 20px 0 0;
color: #444444;
overflow: hidden;
}
.footer-fauxborder-left {
border-top: 1px solid #eeeeee;
background: #ffffff none repeat scroll 0 0;
-moz-box-shadow: 0 0 20px rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 20px rgba(0, 0, 0, .2);
-goog-ms-box-shadow: 0 0 20px rgba(0, 0, 0, .2);
box-shadow: 0 0 20px rgba(0, 0, 0, .2);
margin: 0 -20px;
}
/* Mobile
----------------------------------------------- */
body.mobile {
background-size: auto;
}
.mobile .body-fauxcolumn-outer {
background: transparent none repeat scroll top left;
}
*+html body.mobile .main-inner .column-center-inner {
margin-top: 0;
}
.mobile .main-inner .widget {
padding: 0 0 15px;
}
.mobile .main-inner .widget h2 + div,
.mobile .footer-inner .widget h2 + div {
border-top: none;
padding-top: 0;
}
.mobile .footer-inner .widget h2 {
padding: 0.5em 0;
border-bottom: none;
}
.mobile .main-inner .widget .widget-content {
margin: 0;
padding: 7px 0 0;
}
.mobile .main-inner .widget ul,
.mobile .main-inner .widget #ArchiveList ul.flat {
margin: 0 -15px 0;
}
.mobile .main-inner .widget h2.date-header {
right: 0;
}
.mobile .date-header span {
padding: 0.4em 0;
}
.mobile .date-outer:first-child {
margin-bottom: 0;
border: 1px solid #eeeeee;
-moz-border-radius-topleft: 0;
-moz-border-radius-topright: 0;
-webkit-border-top-left-radius: 0;
-webkit-border-top-right-radius: 0;
-goog-ms-border-top-left-radius: 0;
-goog-ms-border-top-right-radius: 0;
border-top-left-radius: 0;
border-top-right-radius: 0;
}
.mobile .date-outer {
border-color: #eeeeee;
border-width: 0 1px 1px;
}
.mobile .date-outer:last-child {
margin-bottom: 0;
}
.mobile .main-inner {
padding: 0;
}
.mobile .header-inner .section {
margin: 0;
}
.mobile .post-outer, .mobile .inline-ad {
padding: 5px 0;
}
.mobile .tabs-inner .section {
margin: 0 10px;
}
.mobile .main-inner .widget h2 {
margin: 0;
padding: 0;
}
.mobile .main-inner .widget h2.date-header span {
padding: 0;
}
.mobile .main-inner .widget .widget-content {
margin: 0;
padding: 7px 0 0;
}
.mobile #blog-pager {
border: 1px solid transparent;
background: #ffffff none repeat scroll 0 0;
}
.mobile .main-inner .column-left-inner,
.mobile .main-inner .column-right-inner {
background: transparent none repeat 0 0;
-moz-box-shadow: none;
-webkit-box-shadow: none;
-goog-ms-box-shadow: none;
box-shadow: none;
}
.mobile .date-posts {
margin: 0;
padding: 0;
}
.mobile .footer-fauxborder-left {
margin: 0;
border-top: inherit;
}
.mobile .main-inner .section:last-child .Blog:last-child {
margin-bottom: 0;
}
.mobile-index-contents {
color: #444444;
}
.mobile .mobile-link-button {
background: #3778cd url(http://www.blogblog.com/1kt/awesomeinc/tabs_gradient_light.png) repeat scroll 0 0;
}
.mobile-link-button a:link, .mobile-link-button a:visited {
color: #ffffff;
}
.mobile .tabs-inner .PageList .widget-content {
background: transparent;
border-top: 1px solid;
border-color: #999999;
color: #444444;
}
.mobile .tabs-inner .PageList .widget-content .pagelist-arrow {
border-left: 1px solid #999999;
}

--></style>
<style id="template-skin-1" type="text/css"><!--
body {
min-width: 950px;
}
.content-outer, .content-fauxcolumn-outer, .region-inner {
min-width: 950px;
max-width: 950px;
_width: 950px;
}
.main-inner .columns {
padding-left: 0px;
padding-right: 260px;
}
.main-inner .fauxcolumn-center-outer {
left: 0px;
right: 260px;
/* IE6 does not respect left and right together */
_width: expression(this.parentNode.offsetWidth -
parseInt("0px") -
parseInt("260px") + 'px');
}
.main-inner .fauxcolumn-left-outer {
width: 0px;
}
.main-inner .fauxcolumn-right-outer {
width: 260px;
}
.main-inner .column-left-outer {
width: 0px;
right: 100%;
margin-left: -0px;
}
.main-inner .column-right-outer {
width: 260px;
margin-right: -260px;
}
#layout {
min-width: 0;
}
#layout .content-outer {
min-width: 0;
width: 800px;
}
#layout .region-inner {
min-width: 0;
width: auto;
}
--></style>
<body class=" variant-light">
<div class="navbar section" id="navbar"><div class="widget Navbar" data-version="1" id="Navbar1">
</div></div>
<div class=" fb_reset" id="fb-root"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe src="http://staticxx.facebook.com/connect/xd_arbiter/r/fTmIQU3LxvB.js?version=42#channel=f1eee4ac51cc562&amp;origin=http%3A%2F%2Ftechblog.netflix.com" style="border: medium none;" tabindex="-1" title="Facebook Cross Domain Communication Frame" aria-hidden="true" id="fb_xdm_frame_http" scrolling="no" allowfullscreen="true" allowtransparency="true" name="fb_xdm_frame_http" frameborder="0"></iframe><iframe src="The%20Netflix%20Tech%20Blog:%20Linux%20Performance%20Analysis%20in%2060,000%20Milliseconds_files/fTmIQU3LxvB_002.html" style="border: medium none;" tabindex="-1" title="Facebook Cross Domain Communication Frame" aria-hidden="true" id="fb_xdm_frame_https" scrolling="no" allowfullscreen="true" allowtransparency="true" name="fb_xdm_frame_https" frameborder="0"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div></div>
<div class="body-fauxcolumns">
<div class="fauxcolumn-outer body-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content">
<div class="content-fauxcolumns">
<div class="fauxcolumn-outer content-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content-outer">
<div class="content-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left content-fauxborder-left">
<div class="fauxborder-right content-fauxborder-right"></div>
<div class="content-inner">
<header>
<div class="header-outer">
<div class="header-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left header-fauxborder-left">
<div class="fauxborder-right header-fauxborder-right"></div>
<div class="region-inner header-inner">
<div class="header section" id="header"><div class="widget Header" data-version="1" id="Header1">
<div id="header-inner">
<a href="http://techblog.netflix.com/" style="display: block">
<img alt="The Netflix Tech Blog" id="Header1_headerimg" src="The%20Netflix%20Tech%20Blog:%20Linux%20Performance%20Analysis%20in%2060,000%20Milliseconds_files/techblog-header.png" style="display: block" height="80px; " width="920px; ">
</a>
</div>
</div></div>
</div>
</div>
<div class="header-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</header>
<div class="tabs-outer">
<div class="tabs-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left tabs-fauxborder-left">
<div class="fauxborder-right tabs-fauxborder-right"></div>
<div class="region-inner tabs-inner">
<div class="tabs no-items section" id="crosscol"></div>
<div class="tabs no-items section" id="crosscol-overflow"></div>
</div>
</div>
<div class="tabs-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="main-outer">
<div class="main-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left main-fauxborder-left">
<div class="fauxborder-right main-fauxborder-right"></div>
<div class="region-inner main-inner">
<div class="columns fauxcolumns">
<div class="fauxcolumn-outer fauxcolumn-center-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-left-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-right-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<!-- corrects IE6 width calculation -->
<div class="columns-inner">
<div class="column-center-outer">
<div class="column-center-inner">
<div class="main section" id="main"><div class="widget Blog" data-version="1" id="Blog1">
<div class="blog-posts hfeed">

          <div class="date-outer">

<h2 class="date-header"><span>Monday, November 30, 2015</span></h2>

          <div class="date-posts">

<div class="post-outer">
<div class="post hentry">
<a name="5920846117184340200"></a>
<h3 class="post-title entry-title">
Linux Performance Analysis in 60,000 Milliseconds
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-5920846117184340200">
You login to a Linux server with a performance issue: what do you check in the first minute?
<br>
<br>
At Netflix we have a massive EC2 Linux cloud, and numerous performance
analysis tools to monitor and investigate its performance. These include
 <a href="http://techblog.netflix.com/2014/12/introducing-atlas-netflixs-primary.html" style="text-decoration: none;">
Atlas</a> for cloud-wide monitoring, and <a href="http://techblog.netflix.com/2015/04/introducing-vector-netflixs-on-host.html" style="text-decoration: none;">Vector</a>
 for on-demand instance analysis. While those tools help us solve most
issues, we sometimes need to login to an instance and run some standard
Linux performance tools.
<br>
<br>
In this post, the Netflix Performance Engineering team will show you the
 first 60 seconds of an optimized performance investigation at the
command line, using standard Linux tools you should have available.
<br>
<br>
<h2>First 60 Seconds: Summary</h2>
In 60 seconds you can get a high level idea of system resource usage and
 running processes by running the following ten commands. Look for
errors and saturation metrics, as they are both easy to interpret, and
then resource utilization. Saturation is where a resource has more load
than it can handle, and can be exposed either as the length of a request
 queue, or time spent waiting.
<pre style="font-size: 12px; padding: 8px 16px 8px 8px; background-color: #eeeeee">uptime
dmesg | tail
vmstat 1
mpstat -P ALL 1
pidstat 1
iostat -xz 1
free -m
sar -n DEV 1
sar -n TCP,ETCP 1
top
</pre>
Some of these commands require the sysstat package installed. The
metrics these commands expose will help you complete some of the <a href="http://www.brendangregg.com/usemethod.html" style="text-decoration: none;">USE Method</a>:
 a methodology for locating performance bottlenecks. This involves
checking utilization, saturation, and error metrics for all resources
(CPUs, memory, disks, e.t.c.). Also pay attention to when you have
checked and exonerated a resource, as by process of elimination this
narrows the targets to study, and directs any follow on investigation.
<br>
<br>
The following sections summarize these commands, with examples from a
production system. For more information about these tools, see their man
 pages.
<br>
<br>

<h3>1. uptime</h3>
<pre style="font-size: 12px; padding: 8px 16px 8px 8px; background-color: #eeeeee">$ <b>uptime</b>
 23:51:26 up 21:31,  1 user,  load average: 30.02, 26.43, 19.02
</pre>
This is a quick way to view the load averages, which indicate the number
 of tasks (processes) wanting to run. On Linux systems, these numbers
include processes wanting to run on CPU, as well as processes blocked in
 uninterruptible I/O (usually disk I/O). This gives a high level idea of
 resource load (or demand), but can’t be properly understood without
other tools. Worth a quick look only.
<br><br>
The three numbers are exponentially damped moving sum averages with a 1
minute, 5 minute, and 15 minute constant. The three numbers give us some
 idea of how load is changing over time. For example, if you’ve been
asked to check a problem server, and the 1 minute value is much lower
than the 15 minute value, then you might have logged in too late and
missed the issue.
<br>
<br>
In the example above, the load averages show a recent increase, hitting
30 for the 1 minute value, compared to 19 for the 15 minute value. That
the numbers are this large means a lot of something: probably CPU
demand; vmstat or mpstat will confirm, which are commands 3 and 4 in
this sequence.
<br>
<br>

<h3>2. dmesg | tail</h3>
<pre style="font-size: 11px; padding: 8px 16px 8px 8px; background-color: #eeeeee">$ <b>dmesg | tail</b>
[1880957.563150] perl invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0
[...]
[1880957.563400] Out of memory: Kill process 18694 (perl) score 246 or sacrifice child
[1880957.563408] Killed process 18694 (perl) total-vm:1972392kB, anon-rss:1953348kB, file-rss:0kB
[2320864.954447] TCP: Possible SYN flooding on port 7001. Dropping request.  Check SNMP counters.
</pre>
This views the last 10 system messages, if there are any. Look for
errors that can cause performance issues. The example above includes the
 oom-killer, and TCP dropping a request.
<br>
<br>
Don’t miss this step! dmesg is always worth checking.
<br>
<br>

<h3>3. vmstat 1</h3>
<pre style="font-size: 12px; padding: 8px 16px 8px 8px; background-color: #eeeeee">$ <b>vmstat 1</b>
procs ---------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
34  0    0 200889792  73708 591828    0    0     0     5    6   10 96  1  3  0  0
32  0    0 200889920  73708 591860    0    0     0   592 13284 4282 98  1  1  0  0
32  0    0 200890112  73708 591860    0    0     0     0 9501 2154 99  1  0  0  0
32  0    0 200889568  73712 591856    0    0     0    48 11900 2459 99  0  0  0  0
32  0    0 200890208  73712 591860    0    0     0     0 15898 4840 98  1  1  0  0
^C
</pre>
Short for virtual memory stat, vmstat(8) is a commonly available tool
(first created for BSD decades ago). It prints a summary of key server
statistics on each line.
<br>
<br>
vmstat was run with an argument of 1, to print one second summaries. The
 first line of output (in this version of vmstat) has some columns that
show the average since boot, instead of the previous second. For now,
skip the first line, unless you want to learn and remember which column
is which.
<br>
<br>
Columns to check:
<ul>
<li><b>r</b>: Number of processes running on CPU and waiting for a turn.
 This provides a better signal than load averages for determining CPU
saturation, as it does not include I/O. To interpret: an “r” value
greater than the CPU count is saturation.</li>
<li><b>free</b>: Free memory in kilobytes. If there are too many digits
to count, you have enough free memory. The “free -m” command, included
as command 7, better explains the state of free memory.</li>
<li><b>si, so</b>: Swap-ins and swap-outs. If these are non-zero, you’re out of memory.</li>
<li><b>us, sy, id, wa, st</b>: These are breakdowns of CPU time, on
average across all CPUs. They are user time, system time (kernel), idle,
 wait I/O, and stolen time (by other guests, or with Xen, the guest's
own isolated driver domain).</li>
</ul><table></table>
The CPU time breakdowns will confirm if the CPUs are busy, by adding
user + system time. A constant degree of wait I/O points to a disk
bottleneck; this is where the CPUs are idle, because tasks are blocked
waiting for pending disk I/O. You can treat wait I/O as another form of
CPU idle, one that gives a clue as to why they are idle.
<br>
<br>
System time is necessary for I/O processing. A high system time average,
 over 20%, can be interesting to explore further: perhaps the kernel is
processing the I/O inefficiently.
<br>
<br>
In the above example, CPU time is almost entirely in user-level,
pointing to application level usage instead. The CPUs are also well over
 90% utilized on average. This isn’t necessarily a problem; check for
the degree of saturation using the “r” column.
<br>
<br>

<h3>4. mpstat -P ALL 1</h3>
<pre style="font-size: 11px; padding: 8px 16px 8px 8px; background-color: #eeeeee">$ <b>mpstat -P ALL 1</b>
Linux 3.13.0-49-generic (titanclusters-xxxxx)  07/14/2015  _x86_64_ (32 CPU)

07:38:49 PM  CPU   %usr  %nice   %sys %iowait   %irq  %soft  %steal  %guest  %gnice  %idle
07:38:50 PM  all  98.47   0.00   0.75    0.00   0.00   0.00    0.00    0.00    0.00   0.78
07:38:50 PM    0  96.04   0.00   2.97    0.00   0.00   0.00    0.00    0.00    0.00   0.99
07:38:50 PM    1  97.00   0.00   1.00    0.00   0.00   0.00    0.00    0.00    0.00   2.00
07:38:50 PM    2  98.00   0.00   1.00    0.00   0.00   0.00    0.00    0.00    0.00   1.00
07:38:50 PM    3  96.97   0.00   0.00    0.00   0.00   0.00    0.00    0.00    0.00   3.03
[...]
</pre>
This command prints CPU time breakdowns per CPU, which can be used to
check for an imbalance. A single hot CPU can be evidence of a
single-threaded application.
<br>
<br>

<h3>5. pidstat 1</h3>
<pre style="font-size: 12px; padding: 8px 16px 8px 8px; background-color: #eeeeee">$ <b>pidstat 1</b>
Linux 3.13.0-49-generic (titanclusters-xxxxx)  07/14/2015    _x86_64_    (32 CPU)

07:41:02 PM   UID       PID    %usr %system  %guest    %CPU   CPU  Command
07:41:03 PM     0         9    0.00    0.94    0.00    0.94     1  rcuos/0
07:41:03 PM     0      4214    5.66    5.66    0.00   11.32    15  mesos-slave
07:41:03 PM     0      4354    0.94    0.94    0.00    1.89     8  java
07:41:03 PM     0      6521 1596.23    1.89    0.00 1598.11    27  java
07:41:03 PM     0      6564 1571.70    7.55    0.00 1579.25    28  java
07:41:03 PM 60004     60154    0.94    4.72    0.00    5.66     9  pidstat

07:41:03 PM   UID       PID    %usr %system  %guest    %CPU   CPU  Command
07:41:04 PM     0      4214    6.00    2.00    0.00    8.00    15  mesos-slave
07:41:04 PM     0      6521 1590.00    1.00    0.00 1591.00    27  java
07:41:04 PM     0      6564 1573.00   10.00    0.00 1583.00    28  java
07:41:04 PM   108      6718    1.00    0.00    0.00    1.00     0  snmp-pass
07:41:04 PM 60004     60154    1.00    4.00    0.00    5.00     9  pidstat
^C
</pre>
Pidstat is a little like top’s per-process summary, but prints a rolling
 summary instead of clearing the screen. This can be useful for watching
 patterns over time, and also recording what you saw (copy-n-paste) into
 a record of your investigation.
<br>
<br>
The above example identifies two java processes as responsible for
consuming CPU. The %CPU column is the total across all CPUs; 1591% shows
 that that java processes is consuming almost 16 CPUs.
<br>
<br>

<h3>6. iostat -xz 1</h3>
<pre style="word-wrap: normal; overflow-x: scroll; font-size: 12px; padding: 8px 16px 8px 8px; background-color: #eeeeee">$ <b>iostat -xz 1</b>
Linux 3.13.0-49-generic (titanclusters-xxxxx)  07/14/2015  _x86_64_ (32 CPU)

avg-cpu:  %user   %nice %system %iowait  %steal   %idle
          73.96    0.00    3.73    0.03    0.06   22.21

Device:   rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
xvda        0.00     0.23    0.21    0.18     4.52     2.08    34.37     0.00    9.98   13.80    5.42   2.44   0.09
xvdb        0.01     0.00    1.02    8.94   127.97   598.53   145.79     0.00    0.43    1.78    0.28   0.25   0.25
xvdc        0.01     0.00    1.02    8.86   127.79   595.94   146.50     0.00    0.45    1.82    0.30   0.27   0.26
dm-0        0.00     0.00    0.69    2.32    10.47    31.69    28.01     0.01    3.23    0.71    3.98   0.13   0.04
dm-1        0.00     0.00    0.00    0.94     0.01     3.78     8.00     0.33  345.84    0.04  346.81   0.01   0.00
dm-2        0.00     0.00    0.09    0.07     1.35     0.36    22.50     0.00    2.55    0.23    5.62   1.78   0.03
[...]
^C
</pre>
This is a great tool for understanding block devices (disks), both the workload applied and the resulting performance. Look for:
<br>
<ul>
<li><b>r/s, w/s, rkB/s, wkB/s</b>: These are the delivered reads,
writes, read Kbytes, and write Kbytes per second to the device. Use
these for workload characterization. A performance problem may simply be
 due to an excessive load applied.</li>
<li><b>await</b>: The average time for the I/O in milliseconds. This is
the time that the application suffers, as it includes both time queued
and time being serviced. Larger than expected average times can be an
indicator of device saturation, or device problems.</li>
<li><b>avgqu-sz</b>: The average number of requests issued to the
device. Values greater than 1 can be evidence of saturation (although
devices can typically operate on requests in parallel, especially
virtual devices which front multiple back-end disks.)</li>
<li><b>%util</b>: Device utilization. This is really a busy percent,
showing the time each second that the device was doing work. Values
greater than 60% typically lead to poor performance (which should be
seen in await), although it depends on the device. Values close to 100%
usually indicate saturation.</li>
</ul><table></table>
If the storage device is a logical disk device fronting many back-end
disks, then 100% utilization may just mean that some I/O is being
processed 100% of the time, however, the back-end disks may be far from
saturated, and may be able to handle much more work.
<br>
<br>
Bear in mind that poor performing disk I/O isn’t necessarily an
application issue. Many techniques are typically used to perform I/O
asynchronously, so that the application doesn’t block and suffer the
latency directly (e.g., read-ahead for reads, and buffering for writes).
<br>
<br>

<h3>7. free -m</h3>
<pre style="font-size: 12px; padding: 8px 16px 8px 8px; background-color: #eeeeee">$ <b>free -m</b>
             total       used       free     shared    buffers     cached
Mem:        245998      24545     221453         83         59        541
-/+ buffers/cache:      23944     222053
Swap:            0          0          0
</pre>
The right two columns show:
<ul>
<li><b>buffers</b>: For the buffer cache, used for block device I/O.</li>
<li><b>cached</b>: For the page cache, used by file systems.</li>
</ul><table></table>
We just want to check that these aren’t near-zero in size, which can
lead to higher disk I/O (confirm using iostat), and worse performance.
The above example looks fine, with many Mbytes in each.
<br>
<br>
The “-/+ buffers/cache” provides less confusing values for used and free
 memory. Linux uses free memory for the caches, but can reclaim it
quickly if applications need it. So in a way the cached memory should be
 included in the free memory column, which this line does. There’s even a
 website, <a href="http://www.linuxatemyram.com/">linuxatemyram</a>, about this confusion.
<br>
<br>
It can be additionally confusing if ZFS on Linux is used, as we do for
some services, as ZFS has its own file system cache that isn’t reflected
 properly by the free -m columns. It can appear that the system is low
on free memory, when that memory is in fact available for use from the
ZFS cache as needed.
<br>
<br>

<h3>8. sar -n DEV 1</h3>
<pre style="word-wrap: normal; overflow-x: scroll; font-size: 12px; padding: 8px 16px 8px 8px; background-color: #eeeeee">$ <b>sar -n DEV 1</b>
Linux 3.13.0-49-generic (titanclusters-xxxxx)  07/14/2015     _x86_64_    (32 CPU)

12:16:48 AM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil
12:16:49 AM      eth0  18763.00   5032.00  20686.42    478.30      0.00      0.00      0.00      0.00
12:16:49 AM        lo     14.00     14.00      1.36      1.36      0.00      0.00      0.00      0.00
12:16:49 AM   docker0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

12:16:49 AM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil
12:16:50 AM      eth0  19763.00   5101.00  21999.10    482.56      0.00      0.00      0.00      0.00
12:16:50 AM        lo     20.00     20.00      3.25      3.25      0.00      0.00      0.00      0.00
12:16:50 AM   docker0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
^C
</pre>
Use this tool to check network interface throughput: rxkB/s and txkB/s,
as a measure of workload, and also to check if any limit has been
reached. In the above example, eth0 receive is reaching 22 Mbytes/s,
which is 176 Mbits/sec (well under, say, a 1 Gbit/sec limit).
<br>
<br>
This version also has %ifutil for device utilization (max of both
directions for full duplex), which is something we also use Brendan’s <a href="https://github.com/scotte/nicstat">nicstat tool</a> to measure. And like with nicstat, this is hard to get right, and seems to not be working in this example (0.00).
<br>
<br>

<h3>9. sar -n TCP,ETCP 1</h3>
<pre style="font-size: 12px; padding: 8px 16px 8px 8px; background-color: #eeeeee">$ <b>sar -n TCP,ETCP 1</b>
Linux 3.13.0-49-generic (titanclusters-xxxxx)  07/14/2015    _x86_64_    (32 CPU)

12:17:19 AM  active/s passive/s    iseg/s    oseg/s
12:17:20 AM      1.00      0.00  10233.00  18846.00

12:17:19 AM  atmptf/s  estres/s retrans/s isegerr/s   orsts/s
12:17:20 AM      0.00      0.00      0.00      0.00      0.00

12:17:20 AM  active/s passive/s    iseg/s    oseg/s
12:17:21 AM      1.00      0.00   8359.00   6039.00

12:17:20 AM  atmptf/s  estres/s retrans/s isegerr/s   orsts/s
12:17:21 AM      0.00      0.00      0.00      0.00      0.00
^C
</pre>
This is a summarized view of some key TCP metrics. These include:
<ul>
<li><b>active/s</b>: Number of locally-initiated TCP connections per second (e.g., via connect()).</li>
<li><b>passive/s</b>: Number of remotely-initiated TCP connections per second (e.g., via accept()).</li>
<li><b>retrans/s</b>: Number of TCP retransmits per second.</li>
</ul><table></table>
The active and passive counts are often useful as a rough measure of
server load: number of new accepted connections (passive), and number of
 downstream connections (active). It might help to think of active as
outbound, and passive as inbound, but this isn’t strictly true (e.g.,
consider a localhost to localhost connection).
<br>
<br>
Retransmits are a sign of a network or server issue; it may be an
unreliable network (e.g., the public Internet), or it may be due a
server being overloaded and dropping packets. The example above shows
just one new TCP connection per-second.
<br>
<br>

<h3>10. top</h3>
<pre style="font-size: 12px; padding: 8px 16px 8px 8px; background-color: #eeeeee">$ <b>top</b>
top - 00:15:40 up 21:56,  1 user,  load average: 31.09, 29.87, 29.92
Tasks: 871 total,   1 running, 868 sleeping,   0 stopped,   2 zombie
%Cpu(s): 96.8 us,  0.4 sy,  0.0 ni,  2.7 id,  0.1 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem:  25190241+total, 24921688 used, 22698073+free,    60448 buffers
KiB Swap:        0 total,        0 used,        0 free.   554208 cached Mem

   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
 20248 root      20   0  0.227t 0.012t  18748 S  3090  5.2  29812:58 java
  4213 root      20   0 2722544  64640  44232 S  23.5  0.0 233:35.37 mesos-slave
 66128 titancl+  20   0   24344   2332   1172 R   1.0  0.0   0:00.07 top
  5235 root      20   0 38.227g 547004  49996 S   0.7  0.2   2:02.74 java
  4299 root      20   0 20.015g 2.682g  16836 S   0.3  1.1  33:14.42 java
     1 root      20   0   33620   2920   1496 S   0.0  0.0   0:03.82 init
     2 root      20   0       0      0      0 S   0.0  0.0   0:00.02 kthreadd
     3 root      20   0       0      0      0 S   0.0  0.0   0:05.35 ksoftirqd/0
     5 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 kworker/0:0H
     6 root      20   0       0      0      0 S   0.0  0.0   0:06.94 kworker/u256:0
     8 root      20   0       0      0      0 S   0.0  0.0   2:38.05 rcu_sched
</pre>
The top command includes many of the metrics we checked earlier. It can
be handy to run it to see if anything looks wildly different from the
earlier commands, which would indicate that load is variable.
<br>
<br>
A downside to top is that it is harder to see patterns over time, which
may be more clear in tools like vmstat and pidstat, which provide
rolling output. Evidence of intermittent issues can also be lost if you
don’t pause the output quick enough (Ctrl-S to pause, Ctrl-Q to
continue), and the screen clears.
<br>
<br>

<h3>Follow-on Analysis</h3>
<br>

There are many more commands and methodologies you can apply to drill deeper. See Brendan’s <a href="http://techblog.netflix.com/2015/08/netflix-at-velocity-2015-linux.html">Linux Performance Tools tutorial</a>
 from Velocity 2015, which works through over 40 commands, covering
observability, benchmarking, tuning, static performance tuning,
profiling, and tracing.
<br>
<br>
Tackling system reliability and performance problems at web scale is one
 of our passions.  If you would like to join us in tackling these kinds
of challenges we are <a href="http://jobs.netflix.com/">hiring</a>!
<div class="post-footer">
<div class="post-footer-line post-footer-line-1"><span class="post-author vcard">
Posted by
<span class="fn">
<a href="https://plus.google.com/112610724469645265130" rel="author" title="author profile">
Brendan Gregg
</a>
</span>
</span>
<span class="post-timestamp">
at
<a class="timestamp-link" href="http://techblog.netflix.com/2015/11/linux-performance-analysis-in-60s.html" rel="bookmark" title="permanent link"><abbr class="published" title="2015-11-30T13:38:00-08:00">1:38 PM</abbr></a>
</span>
<span class="post-comment-link">
</span>
<span class="post-icons">
<span class="item-control blog-admin pid-5357627">
<a href="https://www.blogger.com/post-edit.g?blogID=725338818844296080&amp;postID=5920846117184340200&amp;from=pencil" title="Edit Post">
<img alt="" class="icon-action" src="The%20Netflix%20Tech%20Blog:%20Linux%20Performance%20Analysis%20in%2060,000%20Milliseconds_files/icon18_edit_allbkg.gif" height="18" width="18">
</a>
</span>
</span>
<div class="post-share-buttons goog-inline-block">
<a class="goog-inline-block share-button sb-email" href="https://www.blogger.com/share-post.g?blogID=725338818844296080&amp;postID=5920846117184340200&amp;target=email" target="_blank" title="Email This"><span class="share-button-link-text">Email This</span></a><a class="goog-inline-block share-button sb-blog" href="https://www.blogger.com/share-post.g?blogID=725338818844296080&amp;postID=5920846117184340200&amp;target=blog" onclick='window.open(this.href, "_blank", "height=270,width=475"); return false;' target="_blank" title="BlogThis!"><span class="share-button-link-text">BlogThis!</span></a><a class="goog-inline-block share-button sb-twitter" href="https://www.blogger.com/share-post.g?blogID=725338818844296080&amp;postID=5920846117184340200&amp;target=twitter" target="_blank" title="Share to Twitter"><span class="share-button-link-text">Share to Twitter</span></a><a class="goog-inline-block share-button sb-facebook" href="https://www.blogger.com/share-post.g?blogID=725338818844296080&amp;postID=5920846117184340200&amp;target=facebook" onclick='window.open(this.href, "_blank", "height=430,width=640"); return false;' target="_blank" title="Share to Facebook"><span class="share-button-link-text">Share to Facebook</span></a><a class="goog-inline-block share-button sb-pinterest" href="https://www.blogger.com/share-post.g?blogID=725338818844296080&amp;postID=5920846117184340200&amp;target=pinterest" target="_blank" title="Share to Pinterest"><span class="share-button-link-text">Share to Pinterest</span></a><div class="goog-inline-block google-plus-share-container"><div id="___plusone_0" style="text-indent: 0px; margin: 0px; padding: 0px; background: transparent none repeat scroll 0% 0%; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 300px; height: 20px;"><iframe title="+1" data-gapiattached="true" src="The%20Netflix%20Tech%20Blog:%20Linux%20Performance%20Analysis%20in%2060,000%20Milliseconds_files/fastbutton.html" name="I0_1479522630618" id="I0_1479522630618" vspace="0" tabindex="0" style="position: static; top: 0px; width: 300px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" scrolling="no" marginwidth="0" marginheight="0" hspace="0" frameborder="0" width="100%"></iframe></div></div>
</div>
</div>
<div class="post-footer-line post-footer-line-2"><span class="post-labels">
Labels:
<a href="http://techblog.netflix.com/search/label/linux" rel="tag">linux</a>,
<a href="http://techblog.netflix.com/search/label/performance" rel="tag">performance</a>
</span>
</div>
<div class="post-footer-line post-footer-line-3"><span class="post-location">
</span>
</div>
</div>
</div>
<div class="comments" id="comments">
<a name="comments"></a>
<div id="backlinks-container">
<div id="Blog1_backlinks-container">
</div>
</div>
</div>
</div>

        </div></div>

</div>
<div class="blog-pager" id="blog-pager">
<span id="blog-pager-newer-link">
<a class="blog-pager-newer-link" href="http://techblog.netflix.com/2015/12/caching-content-for-holiday-streaming.html" id="Blog1_blog-pager-newer-link" title="Newer Post">Newer Post</a>
</span>
<span id="blog-pager-older-link">
<a class="blog-pager-older-link" href="http://techblog.netflix.com/2015/11/creating-your-own-ec2-spot-market-part-2.html" id="Blog1_blog-pager-older-link" title="Older Post">Older Post</a>
</span>
<a class="home-link" href="http://techblog.netflix.com/">Home</a>
</div>
<div class="clear"></div>
<div class="post-feeds">
</div>
<script type="text/javascript">window.___gcfg = {'lang': 'en'};</script>
</div></div>
</div>
</div>
<div class="column-left-outer">
<div class="column-left-inner">
<aside>
</aside>
</div>
</div>
<div class="column-right-outer">
<div class="column-right-inner">
<aside>
<div class="sidebar section" id="sidebar-right-1"><div class="widget LinkList" data-version="1" id="LinkList1">
</div><div class="widget Text" data-version="1" id="Text1">
<h2 class="title">About the Netflix Tech Blog</h2>
<div class="widget-content">
This is a Netflix blog focused on technology and technology issues.
We'll share our perspectives, decisions and challenges regarding the
software we build and use to create the Netflix service.<br><br>
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=725338818844296080&amp;widgetType=Text&amp;widgetId=Text1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick='return _WidgetManager._PopupConfig(document.getElementById("Text1"));' target="configText1" title="Edit">
<img alt="" src="The%20Netflix%20Tech%20Blog:%20Linux%20Performance%20Analysis%20in%2060,000%20Milliseconds_files/icon18_wrench_allbkg.png" height="18" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>

<footer>
</footer>
<!-- content -->
</div>
</div>
<div class="content-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<script type="text/javascript">
    window.setTimeout(function() {
        document.body.className = document.body.className.replace('loading', '');
      }, 10);
  </script>
<script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-70917775-1']);
          _gaq.push(['_trackPageview']);
          (function() {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = (document.location.protocol == 'https:' ?
                      'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
          })();
        </script>

<script type="text/javascript" src="The%20Netflix%20Tech%20Blog:%20Linux%20Performance%20Analysis%20in%2060,000%20Milliseconds_files/3588524177-widgets.js"></script>
<script gapi_processed="true" type="text/javascript" src="The%20Netflix%20Tech%20Blog:%20Linux%20Performance%20Analysis%20in%2060,000%20Milliseconds_files/plusone.js"></script>
<script type="text/javascript">
window['__wavt'] = 'AOuZoY7R9sW0W_WzNGlOiguRjqGBuaY1yQ:1479522627048';_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d725338818844296080','//techblog.netflix.com/2015/11/linux-performance-analysis-in-60s.html','725338818844296080');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '725338818844296080', 'bloggerUrl': 'https://www.blogger.com', 'title': 'The Netflix Tech Blog', 'pageType': 'item', 'postId': '5920846117184340200', 'url': 'http://techblog.netflix.com/2015/11/linux-performance-analysis-in-60s.html', 'canonicalUrl': 'http://techblog.netflix.com/2015/11/linux-performance-analysis-in-60s.html', 'homepageUrl': 'http://techblog.netflix.com/', 'searchUrl': 'http://techblog.netflix.com/search', 'canonicalHomepageUrl': 'http://techblog.netflix.com/', 'blogspotFaviconUrl': 'http://techblog.netflix.com/favicon.ico', 'enabledCommentProfileImages': true, 'gPlusViewType': 'FILTERED_POSTMOD', 'adultContent': false, 'analyticsAccountNumber': 'UA-70917775-1', 'useUniversalAnalytics': false, 'pageName': 'Linux Performance Analysis in 60,000 Milliseconds', 'pageTitle': 'The Netflix Tech Blog: Linux Performance Analysis in 60,000 Milliseconds', 'encoding': 'UTF-8', 'locale': 'en', 'localeUnderscoreDelimited': 'en', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'languageDirection': 'ltr', 'feedLinks': '\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22The Netflix Tech Blog - Atom\x22 href\x3d\x22http://techblog.netflix.com/feeds/posts/default\x22 /\x3e\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/rss+xml\x22 title\x3d\x22The Netflix Tech Blog - RSS\x22 href\x3d\x22http://techblog.netflix.com/feeds/posts/default?alt\x3drss\x22 /\x3e\n\x3clink rel\x3d\x22service.post\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22The Netflix Tech Blog - Atom\x22 href\x3d\x22https://www.blogger.com/feeds/725338818844296080/posts/default\x22 /\x3e\n\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22The Netflix Tech Blog - Atom\x22 href\x3d\x22http://techblog.netflix.com/feeds/5920846117184340200/comments/default\x22 /\x3e\n', 'meTag': '', 'openIdOpTag': '', 'mobileHeadScript': '', 'adsenseHostId': 'ca-host-pub-1556223355139109', 'ieCssRetrofitLinks': '\x3c!--[if IE]\x3e\x3cscript type\x3d\x22text/javascript\x22 src\x3d\x22https://www.blogger.com/static/v1/jsbin/4135384701-ieretrofit.js\x22\x3e\x3c/script\x3e\n\x3c![endif]--\x3e', 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/590300bc2cb9a88a', 'plusOneApiSrc': 'https://apis.google.com/js/plusone.js', 'sharing': {'platforms': [{'name': 'Get link', 'key': 'link', 'shareMessage': 'Get link', 'target': ''}, {'name': 'Facebook', 'key': 'facebook', 'shareMessage': 'Share to Facebook', 'target': 'facebook'}, {'name': 'BlogThis!', 'key': 'blogThis', 'shareMessage': 'BlogThis!', 'target': 'blog'}, {'name': 'Twitter', 'key': 'twitter', 'shareMessage': 'Share to Twitter', 'target': 'twitter'}, {'name': 'Pinterest', 'key': 'pinterest', 'shareMessage': 'Share to Pinterest', 'target': 'pinterest'}, {'name': 'Google+', 'key': 'googlePlus', 'shareMessage': 'Share to Google+', 'target': 'googleplus'}, {'name': 'Email', 'key': 'email', 'shareMessage': 'Email', 'target': 'email'}], 'googlePlusShareButtonWidth': 300, 'googlePlusBootstrap': '\x3cscript type\x3d\x22text/javascript\x22\x3ewindow.___gcfg \x3d {\x27lang\x27: \x27en\x27};\x3c/script\x3e'}}}, {'name': 'features', 'data': {'widgetVisibility': true}}, {'name': 'messages', 'data': {'linkCopiedToClipboard': 'Link copied to clipboard!', 'postLink': 'Post Link'}}, {'name': 'template', 'data': {'name': 'Awesome Inc.', 'localizedName': 'Awesome Inc.', 'variant': 'light', 'isResponsive': false, 'isAlternateRendering': false, 'isCustom': false}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\x3dclassic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\x3dflipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\x3dmagazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\x3dmosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\x3dsidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\x3dsnapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\x3dtimeslide'}, 'isMobile': false, 'title': 'Linux Performance Analysis in 60,000 Milliseconds', 'description': 'You login to a Linux server with a performance issue: what do you check in the first minute?   At Netflix we have a massive EC2 Linux cloud,...', 'url': 'http://techblog.netflix.com/2015/11/linux-performance-analysis-in-60s.html', 'type': 'item', 'isSingleItem': true, 'isMultipleItems': false, 'isError': false, 'isPage': false, 'isPost': true, 'isHomepage': false, 'isArchive': false, 'isSearch': false, 'isLabelSearch': false, 'postId': 5920846117184340200}}]);
_WidgetManager._RegisterWidget('_NavbarView', new _WidgetInfo('Navbar1', 'navbar', null, document.getElementById('Navbar1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', null, document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'main', null, document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'lightboxEnabled': true, 'lightboxModuleUrl': 'https://www.blogger.com/static/v1/jsbin/364372587-lbx.js', 'lightboxCssUrl': 'https://www.blogger.com/static/v1/v-css/368954415-lightbox_bundle.css'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_LinkListView', new _WidgetInfo('LinkList1', 'sidebar-right-1', null, document.getElementById('LinkList1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_TextView', new _WidgetInfo('Text1', 'sidebar-right-1', null, document.getElementById('Text1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'sidebar-right-1', null, document.getElementById('BlogArchive1'), {'languageDirection': 'ltr', 'loadingMessage': 'Loading\x26hellip;'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_LabelView', new _WidgetInfo('Label1', 'sidebar-right-1', null, document.getElementById('Label1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HTMLView', new _WidgetInfo('HTML2', 'footer-3', null, document.getElementById('HTML2'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AttributionView', new _WidgetInfo('Attribution1', 'footer-3', null, document.getElementById('Attribution1'), {}, 'displayModeFull'));
</script>

<iframe aria-hidden="true" tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;" src="The%20Netflix%20Tech%20Blog:%20Linux%20Performance%20Analysis%20in%2060,000%20Milliseconds_files/postmessageRelay.html" id="oauth2relay544781515" name="oauth2relay544781515"></iframe></body></html>
